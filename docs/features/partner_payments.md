# 💳 Partner Payments (파트너 지급 관리)

## 📋 개요

파트너 지급 관리 시스템은 계산된 커미션을 실제로 파트너에게 지급하는 전체 프로세스를 관리합니다.
지급 신청부터 실제 송금까지의 모든 단계를 체계적으로 처리하며, 세금 계산과 수수료 공제를 자동화합니다.

## 🎯 핵심 기능

### 1. 지급 신청 시스템
- **자동 신청**: 일정 금액 도달 시 자동 지급 신청
- **수동 신청**: 파트너가 원하는 시점에 수동 신청
- **최소 지급액**: 설정된 최소 금액 이상 시 신청 가능
- **신청 주기**: 일주일/월별 등 설정된 주기별 신청

### 2. 다양한 지급 방법
- **은행 이체**: 가장 일반적인 계좌 이체 방식
- **현금 지급**: 소액 또는 특별한 경우 현금 지급
- **수표 발행**: 고액 지급 또는 해외 송금 시
- **디지털 지갑**: 페이팔, 토스 등 간편 결제 서비스

### 3. 자동 계산 시스템
- **세금 자동 계산**: 원천징수세 자동 계산 및 공제
- **수수료 계산**: 지급 방법별 수수료 자동 계산
- **환율 적용**: 해외 지급 시 실시간 환율 적용
- **최종 지급액**: 세금과 수수료를 공제한 실 지급액 산출

### 4. 배치 처리 시스템
- **대량 지급**: 여러 파트너 동시 지급 처리
- **스케줄링**: 정해진 시간에 자동 지급 처리
- **우선순위**: 지급 우선순위에 따른 순차 처리
- **실패 처리**: 지급 실패 시 자동 재시도 및 알림

## 🏗️ 데이터 구조

### 지급 기본 정보
```sql
id                  -- 고유 식별자
partner_id          -- 대상 파트너 ID
payment_code        -- 지급 코드 (PAY-YYYYMMDD-0001)
partner_name        -- 지급 당시 파트너 이름 (스냅샷)
partner_email       -- 지급 당시 이메일 (스냅샷)
```

### 금액 정보
```sql
requested_amount    -- 신청 금액
fee_amount         -- 지급 수수료
tax_amount         -- 세금 (원천징수세 등)
final_amount       -- 실제 지급 금액
```

### 지급 방법 및 계좌
```sql
payment_method      -- 지급 방법 (bank_transfer, cash, check, digital_wallet)
bank_name          -- 은행명
account_number     -- 계좌번호
account_holder     -- 예금주
```

### 상태 및 일정
```sql
status             -- 상태 (requested, approved, processing, completed, failed, cancelled)
requested_at       -- 신청일
approved_at        -- 승인일
processed_at       -- 처리일 (송금일)
completed_at       -- 완료일
cancelled_at       -- 취소일
```

---
*안전하고 효율적인 파트너 보상 지급 시스템*