# 파트너 구분 체계 (Partner Classification System)

## 개요
파트너 시스템의 완전한 분류 체계로, **파트너 타입(전문 분야)**과 **파트너 등급(성과 레벨)**의 이중 구조로 운영됩니다. 최대 10% 수수료율 정책과 6단계 등급 체계를 통해 공정하고 투명한 파트너십을 제공합니다.

### 🎯 핵심 특징
- **6개 전문 파트너 타입**: 매출 기준 계층적 구조 (수수료 7%~10%)
- **6단계 파트너 등급**: 성과 기반 승급 체계 (수수료 3%~10%)
- **이중 매트릭스 시스템**: 타입 × 등급 조합으로 세밀한 관리
- **투명한 비용 구조**: 등록비, 월/연 유지비, 면제 정책
- **성과 기반 관리**: 타입별/등급별 최소 기준치 및 품질 평가
- **전문성 관리**: JSON 기반 스킬/전문분야 정의

## 🗂️ 데이터베이스 구조

### 테이블: `partner_types`

#### 🏷️ 기본 정보 필드
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| `type_code` | VARCHAR(20) | 타입 고유 코드 | 'CONSULTANT', 'SALES' |
| `type_name` | VARCHAR(100) | 타입 표시명 | '컨설턴트 파트너' |
| `description` | TEXT | 타입 상세 설명 | '비즈니스 컨설팅 전문...' |

#### 🎨 UI 표시 설정
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| `icon` | VARCHAR(50) | 아이콘 클래스명 | 'fe-users', 'fe-trending-up' |
| `color` | VARCHAR(7) | 브랜드 색상 (HEX) | '#007bff', '#28a745' |
| `sort_order` | INT | 목록 정렬 순서 | 1, 2, 3... |
| `is_active` | BOOLEAN | 활성 상태 | true/false |
| `partner_tiers_count` | INT | 허용 티어 수 (캐시) | 3, 5 |

#### 🎯 전문성 정의 (JSON)
| 필드명 | 타입 | 설명 | 구조 |
|--------|------|------|------|
| `specialties` | JSON | 전문 분야 목록 | `["business_consulting", "strategy_planning"]` |
| `required_skills` | JSON | 필수 스킬 목록 | `["analytical_thinking", "project_management"]` |

#### 💰 수수료 체계
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| `default_commission_type` | ENUM | 수수료 타입 | 'percentage', 'fixed_amount' |
| `default_commission_rate` | DECIMAL(5,2) | 수수료율 (%) | 15.00, 12.50 |
| `default_commission_amount` | DECIMAL(15,2) | 고정 수수료 (원) | 50000.00 |
| `commission_notes` | TEXT | 수수료 특별 조건 | '프리미엄 프로젝트 추가 보너스' |

#### 💳 비용 구조
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| `registration_fee` | DECIMAL(15,2) | 등록비 | 500000.00 |
| `monthly_maintenance_fee` | DECIMAL(15,2) | 월 유지비 | 100000.00 |
| `annual_maintenance_fee` | DECIMAL(15,2) | 연 유지비 | 1000000.00 |
| `fee_waiver_available` | BOOLEAN | 비용 면제 가능 | true/false |
| `fee_structure_notes` | TEXT | 비용 정책 설명 | '연 매출 1억원 이상시 면제' |

#### 📈 성과 평가 기준
| 필드명 | 타입 | 설명 | 단위 |
|--------|------|------|------|
| `min_baseline_sales` | DECIMAL(15,2) | 최소 매출 기준 | 원/월 |
| `min_baseline_cases` | INT | 최소 처리 건수 | 건/월 |
| `min_baseline_revenue` | DECIMAL(15,2) | 최소 순수익 | 원/월 |
| `min_baseline_clients` | INT | 최소 고객 수 | 명 |
| `baseline_quality_score` | DECIMAL(5,2) | 최소 품질 점수 | 점/100점 |

#### 🔧 관리 정보
| 필드명 | 타입 | 설명 |
|--------|------|------|
| `admin_notes` | TEXT | 관리자 내부 메모 |
| `created_by` | BIGINT | 생성자 ID |
| `updated_by` | BIGINT | 최종 수정자 ID |

## 📊 기본 파트너 타입 (6개)

### 🥇 A급: 전략적 파트너 (Strategic Partners)

#### 1. CONSULTANT - 컨설턴트 파트너 (최고급)
```json
{
  "type_code": "CONSULTANT",
  "type_name": "컨설턴트 파트너",
  "icon": "fe-users",
  "color": "#20c997",
  "commission_type": "percentage",
  "commission_rate": 10.00,
  "registration_fee": 500000.00,
  "monthly_maintenance_fee": 100000.00,
  "annual_maintenance_fee": 1000000.00,
  "min_baseline_sales": 8000000.00,
  "min_baseline_cases": 25,
  "min_baseline_revenue": 4000000.00,
  "min_baseline_clients": 3,
  "baseline_quality_score": 95.00,
  "specialties": [
    "business_consulting",
    "strategy_planning",
    "process_optimization",
    "roi_analysis"
  ],
  "required_skills": [
    "analytical_thinking",
    "business_acumen",
    "project_management",
    "client_relationship"
  ]
}
```

#### 2. SALES - 세일즈 파트너 (고급)
```json
{
  "type_code": "SALES",
  "type_name": "세일즈 파트너",
  "icon": "fe-trending-up",
  "color": "#28a745",
  "commission_type": "percentage",
  "commission_rate": 9.00,
  "registration_fee": 300000.00,
  "monthly_maintenance_fee": 80000.00,
  "annual_maintenance_fee": 800000.00,
  "min_baseline_sales": 5000000.00,
  "min_baseline_cases": 50,
  "min_baseline_revenue": 2000000.00,
  "min_baseline_clients": 5,
  "baseline_quality_score": 80.00,
  "specialties": [
    "sales",
    "lead_generation",
    "closing",
    "customer_relations"
  ],
  "required_skills": [
    "communication",
    "negotiation",
    "product_knowledge",
    "crm_usage"
  ]
}
```

### 🥈 B급: 전문 파트너 (Professional Partners)

#### 3. MARKETING - 마케팅 파트너 (중상급)
```json
{
  "type_code": "MARKETING",
  "type_name": "마케팅 파트너",
  "icon": "fe-megaphone",
  "color": "#ff6b35",
  "commission_type": "percentage",
  "commission_rate": 8.00,
  "registration_fee": 200000.00,
  "monthly_maintenance_fee": 60000.00,
  "annual_maintenance_fee": 600000.00,
  "min_baseline_sales": 3000000.00,
  "min_baseline_cases": 30,
  "min_baseline_revenue": 1500000.00,
  "min_baseline_clients": 8,
  "baseline_quality_score": 75.00,
  "specialties": [
    "digital_marketing",
    "content_creation",
    "social_media",
    "campaign_management"
  ],
  "required_skills": [
    "creative_thinking",
    "content_writing",
    "social_media_management",
    "analytics"
  ]
}
```

#### 4. TECH_SUPPORT - 기술 지원 파트너 (중급)
```json
{
  "type_code": "TECH_SUPPORT",
  "type_name": "기술 지원 파트너",
  "icon": "fe-tool",
  "color": "#007bff",
  "commission_type": "fixed_amount",
  "commission_amount": 50000.00,
  "registration_fee": 150000.00,
  "monthly_maintenance_fee": 40000.00,
  "annual_maintenance_fee": 400000.00,
  "min_baseline_sales": 2000000.00,
  "min_baseline_cases": 100,
  "min_baseline_revenue": 800000.00,
  "min_baseline_clients": 10,
  "baseline_quality_score": 90.00,
  "specialties": [
    "technical_support",
    "problem_solving",
    "installation",
    "configuration"
  ],
  "required_skills": [
    "technical_knowledge",
    "troubleshooting",
    "documentation",
    "customer_service"
  ]
}
```

### 🥉 C급: 서비스 파트너 (Service Partners)

#### 5. TRAINING - 교육 파트너 (중하위)
```json
{
  "type_code": "TRAINING",
  "type_name": "교육 파트너",
  "icon": "fe-book-open",
  "color": "#6f42c1",
  "commission_type": "percentage",
  "commission_rate": 7.00,
  "registration_fee": 100000.00,
  "monthly_maintenance_fee": 30000.00,
  "annual_maintenance_fee": 300000.00,
  "min_baseline_sales": 1500000.00,
  "min_baseline_cases": 80,
  "min_baseline_revenue": 600000.00,
  "min_baseline_clients": 15,
  "baseline_quality_score": 85.00,
  "specialties": [
    "training",
    "education",
    "curriculum_development",
    "assessment"
  ],
  "required_skills": [
    "presentation",
    "instructional_design",
    "patience",
    "knowledge_transfer"
  ]
}
```

#### 6. CUSTOMER_SERVICE - 고객 서비스 파트너 (기본)
```json
{
  "type_code": "CUSTOMER_SERVICE",
  "type_name": "고객 서비스 파트너",
  "icon": "fe-headphones",
  "color": "#ffc107",
  "commission_type": "fixed_amount",
  "commission_amount": 30000.00,
  "registration_fee": 50000.00,
  "monthly_maintenance_fee": 20000.00,
  "annual_maintenance_fee": 200000.00,
  "min_baseline_sales": 1000000.00,
  "min_baseline_cases": 120,
  "min_baseline_revenue": 400000.00,
  "min_baseline_clients": 20,
  "baseline_quality_score": 85.00,
  "specialties": [
    "customer_service",
    "complaint_handling",
    "relationship_management",
    "follow_up"
  ],
  "required_skills": [
    "empathy",
    "communication",
    "problem_solving",
    "patience"
  ]
}
```

## 🏆 파트너 등급 체계 (Partner Tiers)

### 테이블: `partner_tiers`

#### 🎯 6단계 등급 시스템 (Starter → Bronze → Silver → Gold → Platinum → Diamond)

### 등급별 상세 정보

#### 1. 🌟 STARTER - 스타터 파트너 (입문급)
```json
{
  "tier_code": "starter",
  "tier_name": "스타터 파트너",
  "description": "신규 파트너를 위한 입문 등급",
  "commission_type": "percentage",
  "commission_rate": 3.00,
  "priority_level": 6,
  "requirements": {
    "onboarding_completed": true
  },
  "benefits": {
    "maximum_concurrent_jobs": 1,
    "support_response_time": "48시간"
  },
  "registration_fee": 0,
  "monthly_fee": 0,
  "annual_fee": 0,
  "fee_waiver_available": true,
  "restrict_to_parent_type": true,
  "parent_partner_type": "TECH_SUPPORT"
}
```

#### 2. 🥉 BRONZE - 브론즈 파트너 (기초급)
```json
{
  "tier_code": "bronze",
  "tier_name": "브론즈 파트너",
  "description": "기초 경험을 쌓은 파트너를 위한 기본 등급",
  "commission_type": "percentage",
  "commission_rate": 5.00,
  "priority_level": 5,
  "requirements": {
    "min_experience_months": 3,
    "min_completed_jobs": 10
  },
  "benefits": {
    "maximum_concurrent_jobs": 2,
    "support_response_time": "24시간"
  },
  "registration_fee": 0,
  "monthly_fee": 0,
  "annual_fee": 0,
  "fee_waiver_available": true,
  "restrict_to_parent_type": false
}
```

#### 3. 🥈 SILVER - 실버 파트너 (중급)
```json
{
  "tier_code": "silver",
  "tier_name": "실버 파트너",
  "description": "중급 파트너를 위한 등급",
  "commission_type": "percentage",
  "commission_rate": 6.00,
  "priority_level": 4,
  "requirements": {
    "min_experience_months": 6,
    "min_completed_jobs": 50,
    "min_rating": 4.0
  },
  "benefits": {
    "maximum_concurrent_jobs": 4,
    "support_response_time": "12시간",
    "bonus_eligibility": true
  },
  "registration_fee": 50000,
  "monthly_fee": 30000,
  "annual_fee": 300000,
  "fee_waiver_available": false,
  "restrict_to_parent_type": true,
  "parent_partner_type": "SALES"
}
```

#### 4. 🥇 GOLD - 골드 파트너 (고급)
```json
{
  "tier_code": "gold",
  "tier_name": "골드 파트너",
  "description": "고급 파트너를 위한 프리미엄 등급",
  "commission_type": "percentage",
  "commission_rate": 7.00,
  "priority_level": 3,
  "requirements": {
    "min_experience_months": 12,
    "min_completed_jobs": 150,
    "min_rating": 4.5,
    "leadership_experience": true
  },
  "benefits": {
    "maximum_concurrent_jobs": 6,
    "support_response_time": "6시간",
    "premium_projects_access": true
  },
  "registration_fee": 100000,
  "monthly_fee": 50000,
  "annual_fee": 500000,
  "fee_waiver_available": false,
  "restrict_to_parent_type": true,
  "parent_partner_type": "MARKETING"
}
```

#### 5. 💎 PLATINUM - 플래티넘 파트너 (프리미엄)
```json
{
  "tier_code": "platinum",
  "tier_name": "플래티넘 파트너",
  "description": "VIP 파트너를 위한 프리미엄 등급",
  "commission_type": "percentage",
  "commission_rate": 8.00,
  "priority_level": 2,
  "requirements": {
    "min_experience_months": 24,
    "min_completed_jobs": 300,
    "min_rating": 4.8
  },
  "benefits": {
    "maximum_concurrent_jobs": 10,
    "support_response_time": "즉시",
    "vip_customer_access": true
  },
  "registration_fee": 200000,
  "monthly_fee": 100000,
  "annual_fee": 1000000,
  "fee_waiver_available": false,
  "restrict_to_parent_type": true,
  "parent_partner_type": "CONSULTANT"
}
```

#### 6. 💎✨ DIAMOND - 다이아몬드 파트너 (최상위)
```json
{
  "tier_code": "diamond",
  "tier_name": "다이아몬드 파트너",
  "description": "최상위 엘리트 파트너를 위한 최고급 등급",
  "commission_type": "percentage",
  "commission_rate": 10.00,
  "priority_level": 1,
  "requirements": {
    "min_experience_months": 36,
    "min_completed_jobs": 500,
    "min_rating": 4.9,
    "expert_specialization": true
  },
  "benefits": {
    "maximum_concurrent_jobs": 15,
    "support_response_time": "즉시",
    "exclusive_projects_access": true,
    "strategic_partnership": true
  },
  "registration_fee": 500000,
  "monthly_fee": 200000,
  "annual_fee": 2000000,
  "fee_waiver_available": false,
  "restrict_to_parent_type": true,
  "parent_partner_type": "TRAINING"
}
```

### 🔗 파트너 타입 × 등급 연동 시스템

#### 등급별 허용 파트너 타입
- **STARTER**: 기술지원만 허용 (제한적 업무)
- **BRONZE**: 기본 타입 허용 (기술지원 + 고객서비스)
- **SILVER**: SALES 타입 연동 (영업 기초)
- **GOLD**: MARKETING 타입 연동 (마케팅 전문)
- **PLATINUM**: CONSULTANT 타입 연동 (컨설팅 전문)
- **DIAMOND**: TRAINING 타입 연동 (교육 전문가)

#### 승급 경로
```
STARTER (3%) → BRONZE (5%) → SILVER (6%) → GOLD (7%) → PLATINUM (8%) → DIAMOND (10%)
     ↓              ↓              ↓             ↓              ↓              ↓
기술지원 전용    제한 없음      SALES 연동    MARKETING 연동  CONSULTANT 연동  TRAINING 연동
```

## 📈 성과 관리 시스템

### 타입별 성과 대시보드
> **관리 경로**: `/admin/partner/type/target`

#### 🎯 주요 기능
1. **실시간 성과 모니터링**
   - 타입별 월별/연별 매출 추이
   - 목표 대비 달성률 시각화
   - 활성 파트너 수 및 참여율

2. **고급 분석 도구**
   - 성장률 분석 (전년 동기 대비)
   - 수수료 효율성 분석
   - 계절성 패턴 인사이트
   - AI 기반 예측 모델

3. **파트너 랭킹**
   - 타입별 TOP 파트너 조회
   - 성과 분포 분석
   - 미달 파트너 식별

### 목표 관리 체계

#### 달성률 평가 기준
- **🏆 우수**: 120% 이상 달성
- **✅ 달성**: 100% 이상 달성
- **⚠️ 주의**: 80% 이상 달성
- **❌ 미달**: 80% 미만

#### 목표 조정 기능
- 타입별 최소 기준치 업데이트
- 수수료 정책 조정
- 비용 구조 재설정
- 변경 이력 추적

## 💰 수수료 & 비용 체계

### 🎯 최대 10% 수수료율 정책
모든 파트너 타입과 등급의 수수료율은 **최대 10%**로 제한되어 공정하고 합리적인 수수료 체계를 운영합니다.

### 파트너 타입별 수수료

#### 📊 퍼센트 기반 수수료 (전문성 기준)
| 타입 | 수수료율 | 전문성 수준 | 특징 |
|------|----------|------------|------|
| CONSULTANT | 10% | 최고급 | 고급 컨설팅 서비스 |
| SALES | 9% | 고급 | 전문 영업 서비스 |
| MARKETING | 8% | 중상급 | 창의적 마케팅 서비스 |
| TRAINING | 7% | 중급 | 전문 교육 서비스 |

#### 💵 고정 금액 수수료 (안정적 서비스)
| 타입 | 건당 수수료 | 특징 |
|------|------------|------|
| TECH_SUPPORT | 50,000원 | 기술 지원 서비스 |
| CUSTOMER_SERVICE | 30,000원 | 고객 서비스 |

### 파트너 등급별 수수료

#### 🏆 성과 기반 승급 수수료 체계
| 등급 | 수수료율 | 성장 단계 | 주요 특징 |
|------|----------|----------|----------|
| DIAMOND | 10% | 최상위 | 엘리트 전문가 |
| PLATINUM | 8% | 프리미엄 | VIP 파트너 |
| GOLD | 7% | 고급 | 프리미엄 서비스 |
| SILVER | 6% | 중급 | 안정적 성과 |
| BRONZE | 5% | 기초 | 기본 서비스 |
| STARTER | 3% | 입문 | 신규 파트너 |

### 🔄 통합 수수료 시스템 (타입 + 등급)
파트너는 **타입 수수료**와 **등급 수수료**를 **합산**하여 적용받습니다.

#### 수수료 결정 예시 (타입 + 등급)
- **CONSULTANT 타입(10%) + GOLD 등급(7%)**: 10% + 7% = **17%** (최대 10% 제한 적용)
- **MARKETING 타입(8%) + DIAMOND 등급(10%)**: 8% + 10% = **18%** (최대 10% 제한 적용)
- **SALES 타입(9%) + SILVER 등급(6%)**: 9% + 6% = **15%** (최대 10% 제한 적용)
- **TRAINING 타입(7%) + BRONZE 등급(5%)**: 7% + 5% = **12%** (최대 10% 제한 적용)
- **TRAINING 타입(7%) + STARTER 등급(3%)**: 7% + 3% = **10%**

> **중요**: 모든 수수료율은 최대 10%로 제한되어 공정한 수수료 체계를 유지합니다.

### 비용 구조 상세

#### 파트너 타입별 비용 구조
| 파트너 타입 | 등록비 | 월 유지비 | 연 유지비 | 첫해 총비용 |
|-------------|--------|----------|----------|------------|
| CONSULTANT | 500,000원 | 100,000원 | 1,000,000원 | 1,500,000원 |
| SALES | 300,000원 | 80,000원 | 800,000원 | 1,100,000원 |
| MARKETING | 200,000원 | 60,000원 | 600,000원 | 800,000원 |
| TECH_SUPPORT | 150,000원 | 40,000원 | 400,000원 | 550,000원 |
| TRAINING | 100,000원 | 30,000원 | 300,000원 | 400,000원 |
| CUSTOMER_SERVICE | 50,000원 | 20,000원 | 200,000원 | 250,000원 |

#### 파트너 등급별 비용 구조
| 파트너 등급 | 등록비 | 월 유지비 | 연 유지비 | 첫해 총비용 | 비용면제 |
|-------------|--------|----------|----------|------------|----------|
| DIAMOND | 500,000원 | 200,000원 | 2,000,000원 | 2,500,000원 | ❌ |
| PLATINUM | 200,000원 | 100,000원 | 1,000,000원 | 1,200,000원 | ❌ |
| GOLD | 100,000원 | 50,000원 | 500,000원 | 600,000원 | ❌ |
| SILVER | 50,000원 | 30,000원 | 300,000원 | 350,000원 | ❌ |
| BRONZE | 0원 | 0원 | 0원 | 0원 | ✅ |
| STARTER | 0원 | 0원 | 0원 | 0원 | ✅ |

#### 비용 면제 정책
- **성과 기반 면제**: 타입별 최소 기준 150% 이상 달성시
- **장기 파트너 혜택**: 2년 이상 지속 파트너십 유지시
- **특별 프로그램**: 신규 시장 개척, 전략적 프로젝트 참여시

## 🎯 전문성 관리

### Specialties (전문 분야) 정의

#### 비즈니스 컨설팅
- `business_consulting` - 비즈니스 컨설팅
- `strategy_planning` - 전략 기획
- `process_optimization` - 프로세스 최적화
- `roi_analysis` - ROI 분석

#### 영업 & 마케팅
- `sales` - 영업
- `lead_generation` - 리드 생성
- `closing` - 클로징
- `digital_marketing` - 디지털 마케팅
- `content_creation` - 콘텐츠 제작
- `social_media` - 소셜 미디어

#### 기술 & 지원
- `technical_support` - 기술 지원
- `installation` - 설치 서비스
- `troubleshooting` - 문제 해결
- `training_delivery` - 교육 진행
- `customer_support` - 고객 지원

### Required Skills (필수 스킬) 정의

#### 핵심 역량
- `analytical_thinking` - 분석적 사고
- `business_acumen` - 비즈니스 감각
- `project_management` - 프로젝트 관리
- `client_relationship` - 고객 관계 관리

#### 커뮤니케이션
- `communication` - 의사소통
- `negotiation` - 협상
- `presentation` - 프레젠테이션
- `relationship_building` - 관계 구축

#### 전문 기술
- `market_knowledge` - 시장 이해
- `technical_expertise` - 기술 전문성
- `problem_solving` - 문제 해결
- `time_management` - 시간 관리

## 🔄 파트너 승급 체계

### 일반적 성장 경로
```
CUSTOMER_SERVICE (기본)
    ↓ 6개월 성과 달성
TRAINING (중하위)
    ↓ 6개월 성과 달성
TECH_SUPPORT (중급)
    ↓ 6개월 성과 달성
MARKETING (중상급)
    ↓ 6개월 성과 달성
SALES (고급)
    ↓ 12개월 성과 달성
CONSULTANT (최고급)
```

### 전문 분야별 경로

#### 🎯 영업 전문 트랙
```
CUSTOMER_SERVICE → SALES → CONSULTANT
```

#### 🛠️ 기술 전문 트랙
```
TECH_SUPPORT → TRAINING → CONSULTANT
```

#### 📢 마케팅 전문 트랙
```
CUSTOMER_SERVICE → MARKETING → CONSULTANT
```

### 승급 요건

#### 📊 성과 기준
- **매출 목표**: 현재 타입 기준의 120% 이상 달성
- **품질 점수**: 타겟 타입 최소 기준 이상 유지
- **지속 기간**: 최소 6개월 (CONSULTANT 승급시 12개월)

#### 📝 평가 항목
1. **정량 평가** (70%)
   - 매출 성과 (40%)
   - 처리 건수 (20%)
   - 고객 수 (10%)

2. **정성 평가** (30%)
   - 고객 만족도 (15%)
   - 협업 능력 (10%)
   - 전문성 발전 (5%)

## 🔗 이중 매트릭스 시스템 운영

### 파트너 타입 × 등급 매트릭스
각 파트너는 **전문 분야(타입)**과 **성과 수준(등급)**의 조합으로 관리됩니다.

#### 🎯 최적 조합 예시 (타입 + 등급 합산)
| 전문 분야 | 추천 등급 | 계산 | 최종 수수료율 | 특징 |
|-----------|----------|------|--------------|------|
| CONSULTANT (10%) | DIAMOND (10%) | 10% + 10% | **10%** (상한선 적용) | 최고 전문성 + 최고 성과 |
| CONSULTANT (10%) | PLATINUM (8%) | 10% + 8% | **10%** (상한선 적용) | 최고 전문성 + 우수 성과 |
| SALES (9%) | GOLD (7%) | 9% + 7% | **10%** (상한선 적용) | 영업 전문성 + 고급 성과 |
| MARKETING (8%) | SILVER (6%) | 8% + 6% | **10%** (상한선 적용) | 마케팅 전문성 + 중급 성과 |
| TRAINING (7%) | STARTER (3%) | 7% + 3% | **10%** | 교육 전문성 + 신규 파트너 |
| TECH_SUPPORT | BRONZE | 고정 5만원/건 | **5만원/건** | 기술 지원 + 기본 성과 |

#### 🔄 성장 경로 매핑 (타입 + 등급 합산 체계)
```
신규 파트너
    ↓
TECH_SUPPORT(5만원/건) + STARTER(3%) = 5만원/건 (고정수수료 우선)
    ↓ (3개월 경험)
CUSTOMER_SERVICE(3만원/건) + BRONZE(5%) = 3만원/건 (고정수수료 우선)
    ↓ (6개월 성과)
TRAINING(7%) + SILVER(6%) = 13% → 10% (상한선 적용)
    ↓ (12개월 성과)
MARKETING(8%) + GOLD(7%) = 15% → 10% (상한선 적용)
    ↓ (24개월 성과)
SALES(9%) + PLATINUM(8%) = 17% → 10% (상한선 적용)
    ↓ (36개월 최고 성과)
CONSULTANT(10%) + DIAMOND(10%) = 20% → 10% (상한선 적용)
```

### 혜택 차등화 시스템
- **수수료**: 타입 + 등급 합산 수수료율 적용 (최대 10% 제한)
- **업무 배정**: 등급 우선순위 + 타입 전문성 매칭
- **비용**: 타입과 등급 중 적용되는 비용 구조 선택
- **지원**: 등급별 지원 서비스 + 타입별 전문 교육

## 🛠️ 모델 활용법

### PartnerType 모델 주요 메소드

#### 📊 데이터 조회
```php
// 활성 타입 조회
$activeTypes = PartnerType::active()->ordered()->get();

// 수수료 타입별 조회
$percentageTypes = PartnerType::byCommissionType('percentage')->get();
$fixedAmountTypes = PartnerType::byCommissionType('fixed_amount')->get();

// 10% 이하 수수료율 조회 (최신 정책 준수)
$validCommissionTypes = PartnerType::byCommissionRate(0, 10)->get();

// 무료 등록 타입 조회
$freeTypes = PartnerType::freeRegistration()->get();
```

#### 💰 요약 정보
```php
$type = PartnerType::find(1);

// 수수료 정보 (10% 최대 정책 적용)
$commission = $type->getCommissionSummary();
// ['type' => 'percentage', 'rate' => 10.00, 'display' => '10.00%']

// 비용 정보
$fees = $type->getFeeSummary();
// ['registration' => 500000, 'monthly' => 100000, 'total_first_year' => 1500000]

// 성과 기준
$criteria = $type->getPerformanceCriteria();
// ['sales' => ['amount' => 8000000, 'display' => '8,000,000원/월']]

// 전체 정보
$display = $type->getDisplayInfo();
```

### PartnerTier 모델 주요 메소드

#### 📊 등급 데이터 조회
```php
// 활성 등급 조회 (우선순위 순)
$activeTiers = PartnerTier::active()->orderByPriority()->get();

// 등급 코드로 조회
$starterTier = PartnerTier::findByCode('starter');
$diamondTier = PartnerTier::findByCode('diamond');

// 특정 파트너 타입에 연동된 등급들
$consultantTiers = PartnerTier::forPartnerType($consultantTypeId)->get();

// 수수료율 범위별 조회 (3%~10% 범위)
$midTierRange = PartnerTier::minCommissionRate(5)->orderByCommission()->get();
```

#### 🎯 등급 승급 검증
```php
$tier = PartnerTier::findByCode('gold');
$partner = PartnerUser::find(1);

// 등급 달성 가능 여부 확인
$canAchieve = $tier->canAchieveTier($partner);
// true/false 반환

// 수수료 계산 (타입 + 등급 합산)
$partnerType = PartnerType::findByCode('MARKETING'); // 8%
$tier = PartnerTier::findByCode('gold'); // 7%
$totalRate = min(10, $partnerType->default_commission_rate + $tier->commission_rate); // 8% + 7% = 15% → 10% (상한선)
$commission = (1000000 * $totalRate) / 100; // 100만원 × 10% = 100,000원

// 혜택 및 요구사항 조회
$benefits = $tier->getBenefits();
$requirements = $tier->getRequirements();
$maxJobs = $tier->getMaxConcurrentJobs(); // 6개 (골드 등급)
```

#### 💰 비용 계산
```php
$tier = PartnerTier::findByCode('platinum');

// 총 월간/연간 비용 계산
$monthlyCost = $tier->getTotalMonthlyCost(); // 등록비 + 월유지비
$annualCost = $tier->getTotalAnnualCost(); // 등록비 + 연유지비

// 비용 면제 가능 여부
$canWaiveFee = $tier->isFeeWaiverAvailable(); // false (플래티넘은 면제 불가)

// 수수료 표시용 텍스트
$commissionText = $tier->getCommissionDisplayText(); // "8%"
```

#### 🔄 캐시 관리
```php
// 개별 타입 티어 수 업데이트
$type->updatePartnerTiersCount();

// 전체 타입 티어 수 업데이트
PartnerType::updateAllPartnerTiersCounts();

// 등급 순서 재정렬
PartnerTier::reorderTiers();
```

## 🎛️ 관리 인터페이스

### 파트너 타입 관리
> **관리 경로**: `/admin/partner/type`

#### 주요 기능
- 타입 생성/수정/삭제
- 수수료 정책 설정
- 성과 기준 조정
- 활성화/비활성화 관리

### 성과 분석 대시보드
> **분석 경로**: `/admin/partner/type/target`

#### 주요 기능
- 실시간 성과 모니터링
- 타입별 비교 분석
- 목표 달성률 추적
- 예측 분석 및 인사이트

### 고급 분석
> **고급 분석**: `/admin/partner/type/target/analytics`

#### 주요 기능
- 성장률 분석
- 계절성 패턴 분석
- ROI 분석
- AI 기반 예측

---

## 📅 문서 정보

**문서 작성일**: 2025-11-14
**최종 업데이트**: 2025-11-14
**버전**: 4.0 - 포괄적 데이터베이스 구조 문서화

### 🔄 변경 이력
- **v1.0** (2025-11-14): 초기 파트너 타입 분류 체계 수립
- **v2.0** (2025-11-16): 수수료 체계, 등록비/유지비 정보 추가
- **v3.0** (2025-11-16): 테이블 구조 단순화 적용
- **v4.0** (2025-11-14): **완전한 데이터베이스 스키마 반영 및 모델 기능 문서화**
  - 전체 테이블 필드 구조 상세 명시
  - JSON 필드 (specialties, required_skills) 구조 정의
  - 성과 관리 시스템 추가 (target 관리 페이지)
  - 티어 시스템 연동 방식 설명
  - PartnerType 모델 활용법 가이드 추가
  - 관리 인터페이스 경로 및 기능 명시